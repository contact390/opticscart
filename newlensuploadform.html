<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunglasses Product Management | Admin Form</title>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif; background: #f5f7fb; margin: 0; padding: 20px;">
    
    <div style="max-width: 1400px; margin: 0 auto;">
        <!-- Header Section -->
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px 30px; border-radius: 15px 15px 0 0; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h1 style="font-size: 28px; margin-bottom: 5px;">üï∂Ô∏è Sunglasses Product Manager</h1>
            <p style="opacity: 0.9; font-size: 14px;">Complete product upload form with 2024 market specifications</p>
            <div style="margin-top: 10px; font-size: 12px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 5px; display: inline-block;">
                ‚ö° API Status: Ready | üîÑ SKU Auto-Generate: SUN-2026-0001 | üí∞ Currency: ‚Çπ INR
            </div>
        </div>

        <!-- Main Form -->
        <form id="sunglassForm" style="background: white; border-radius: 0 0 15px 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 30px;">
            
            <!-- Validation Summary -->
            <div id="validationSummary" style="background: #fff3cd; color: #856404; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ffeeba; display: none;">
                <strong>‚ö†Ô∏è Please fix the following errors:</strong>
                <ul id="validationList" style="margin-top: 10px; margin-bottom: 0; padding-left: 20px;"></ul>
            </div>

            <!-- Form Grid -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                
                <!-- SECTION A: Basic Identification -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #667eea; display: flex; align-items: center;">
                        <span style="background: #667eea; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">1</span>
                        Basic Identification
                    </h3>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">SKU / Product ID <span style="color: #e53e3e;">*</span> <span style="font-size: 11px; color: #718096;">(Auto-generated)</span></label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="sku" value="SUN-2026-0001" readonly style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px; background: #edf2f7;" placeholder="Auto-generated SKU">
                            <button type="button" onclick="generateNewSKU()" style="padding: 10px 15px; background: #4299e1; color: white; border: none; border-radius: 8px; cursor: pointer; white-space: nowrap;">‚Üª New</button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Product Title <span style="color: #e53e3e;">*</span></label>
                        <input type="text" id="title" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;" placeholder="Brand - Model - Size - Color">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Short Description</label>
                        <textarea id="shortDesc" rows="2" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px; resize: vertical;" placeholder="Highlight 3 key features (max 160 chars)"></textarea>
                        <div style="font-size: 11px; color: #718096; text-align: right; margin-top: 3px;">0/160</div>
                    </div>
                </div>

                <!-- SECTION B: Age Group (Critical Stock) -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #48bb78; display: flex; align-items: center;">
                        <span style="background: #48bb78; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">2</span>
                        Age Group & Stock
                    </h3>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 10px;">Age Group <span style="color: #e53e3e;">*</span></label>
                        
                        <div style="background: white; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
                            <label style="display: flex; align-items: center; padding: 10px 12px; border-bottom: 1px solid #e2e8f0; background: #fff5f5; cursor: pointer;">
                                <input type="radio" name="ageGroup" value="2-5" style="margin-right: 10px;">
                                <span style="flex: 1; font-size: 14px;">2-5 yrs</span>
                                <span style="background: #feb2b2; color: #c53030; padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">Stock: 5 only</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 10px 12px; border-bottom: 1px solid #e2e8f0; background: #fffaf0; cursor: pointer;">
                                <input type="radio" name="ageGroup" value="5-8" style="margin-right: 10px;">
                                <span style="flex: 1; font-size: 14px;">5-8 yrs</span>
                                <span style="background: #feebc8; color: #c05621; padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">Stock: 8</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 10px 12px; border-bottom: 1px solid #e2e8f0; background: #f0fff4; cursor: pointer;">
                                <input type="radio" name="ageGroup" value="8-12" checked style="margin-right: 10px;">
                                <span style="flex: 1; font-size: 14px;">8-12 yrs</span>
                                <span style="background: #9ae6b4; color: #276749; padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">üî• Stock: 109</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 10px 12px; border-bottom: 1px solid #e2e8f0; cursor: pointer;">
                                <input type="radio" name="ageGroup" value="13-17" style="margin-right: 10px;">
                                <span style="flex: 1; font-size: 14px;">13-17 yrs (Teen)</span>
                                <span style="background: #e2e8f0; color: #4a5568; padding: 3px 8px; border-radius: 12px; font-size: 11px;">New</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; padding: 10px 12px; cursor: pointer;">
                                <input type="radio" name="ageGroup" value="18+" style="margin-right: 10px;">
                                <span style="flex: 1; font-size: 14px;">18+ yrs (Adult)</span>
                                <span style="background: #e2e8f0; color: #4a5568; padding: 3px 8px; border-radius: 12px; font-size: 11px;">Primary</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Quantity in Stock <span style="color: #e53e3e;">*</span></label>
                        <input type="number" id="stock" value="109" min="1" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                    </div>
                </div>

                <!-- SECTION C: Frame Type & Shape & MULTI COLOR -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0; grid-column: span 2;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #ed8936; display: flex; align-items: center;">
                        <span style="background: #ed8936; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">3</span>
                        Frame Specifications & MULTI COLOR OPTIONS
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Frame Type</label>
                            <select id="frameType" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px; background: white;">
                                <option value="full-rim">Full Rim (üî• 70% inventory)</option>
                                <option value="rimless">Rimless (Premium)</option>
                                <option value="half-rim">Half Rim (Office wear)</option>
                                <option value="full-rim-metal">Full Rim Metal (Hybrid)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Frame Shape</label>
                            <select id="frameShape" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                                <option value="square">Square</option>
                                <option value="round">Round</option>
                                <option value="rectangle">Rectangle</option>
                                <option value="geometric">Geometric üî•</option>
                                <option value="aviator">Aviator</option>
                                <option value="cat-eye">Cat Eye</option>
                                <option value="clubmaster">Clubmaster</option>
                                <option value="oval">Oval</option>
                                <option value="butterfly">Butterfly</option>
                                <option value="shield">Shield</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Frame Shape (Secondary)</label>
                            <select id="frameShapeSecondary" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                                <option value="">None</option>
                                <option value="square">Square</option>
                                <option value="round">Round</option>
                                <option value="rectangle">Rectangle</option>
                                <option value="geometric">Geometric</option>
                                <option value="aviator">Aviator</option>
                                <option value="cat-eye">Cat Eye</option>
                                <option value="clubmaster">Clubmaster</option>
                                <option value="oval">Oval</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- MULTI COLOR SECTION -->
                    <div style="margin-top: 20px; background: #e6f7ff; padding: 15px; border-radius: 8px; border: 1px dashed #1890ff;">
                        <label style="display: block; font-size: 14px; font-weight: 700; color: #0050b3; margin-bottom: 10px;">üé® MULTI COLOR OPTIONS (Select multiple colors)</label>
                        
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Black" style="margin-right: 8px;"> ‚ö´ Black</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="White" style="margin-right: 8px;"> ‚ö™ White</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Red" style="margin-right: 8px;"> üî¥ Red</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Blue" style="margin-right: 8px;"> üîµ Blue</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Green" style="margin-right: 8px;"> üü¢ Green</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Yellow" style="margin-right: 8px;"> üü° Yellow</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Brown/Tortoise" style="margin-right: 8px;"> üü§ Brown/Tortoise</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Grey" style="margin-right: 8px;"> ‚ö™ Grey</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Gold" style="margin-right: 8px;"> ‚ú® Gold</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Silver" style="margin-right: 8px;"> ‚ú® Silver</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Rose Gold" style="margin-right: 8px;"> üíó Rose Gold</label>
                            <label style="display: flex; align-items: center; background: white; padding: 8px; border-radius: 6px;"><input type="checkbox" name="multiColor" value="Transparent" style="margin-right: 8px;"> üîÆ Transparent</label>
                        </div>
                        
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="font-weight: 600;">Or add custom color:</span>
                            <input type="color" id="customColorPicker" style="width: 50px; height: 40px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <input type="text" id="customColorText" placeholder="Enter custom color name" style="flex: 1; padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <button type="button" onclick="addCustomColor()" style="padding: 8px 15px; background: #1890ff; color: white; border: none; border-radius: 6px; cursor: pointer;">Add +</button>
                        </div>
                        <div id="customColorsList" style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 8px;"></div>
                    </div>
                    
                    <div style="margin-top: 15px; display: flex; gap: 10px;">
                        <div style="flex: 1;">
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Primary Frame Color</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="color" id="frameColor" value="#000000" style="width: 50px; height: 40px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <input type="text" id="frameColorText" placeholder="Matte Black, Shiny Tortoise..." style="flex: 1; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Secondary Frame Color</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="color" id="frameColor2" value="#ffffff" style="width: 50px; height: 40px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <input type="text" id="frameColorText2" placeholder="Secondary color if any" style="flex: 1; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION D: Dimensions -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #9f7aea; display: flex; align-items: center;">
                        <span style="background: #9f7aea; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">4</span>
                        Size & Dimensions
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Frame Size</label>
                        <select id="frameSize" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                            <option value="xs">Extra Small (under 120mm)</option>
                            <option value="small">Small (120-130mm)</option>
                            <option value="medium" selected>Medium (131-140mm) ‚úÖ Most common</option>
                            <option value="large">Large (141-150mm)</option>
                            <option value="xl">Extra Large (150mm+)</option>
                        </select>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; font-size: 12px; font-weight: 600; color: #4a5568; margin-bottom: 3px;">Frame Width (mm)</label>
                            <input type="number" id="frameWidth" value="135" step="5" style="width: 100%; padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 12px; font-weight: 600; color: #4a5568; margin-bottom: 3px;">Lens Width (mm)</label>
                            <input type="number" id="lensWidth" value="52" step="2" style="width: 100%; padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 12px; font-weight: 600; color: #4a5568; margin-bottom: 3px;">Bridge (mm)</label>
                            <input type="number" id="bridgeWidth" value="18" step="1" style="width: 100%; padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 12px; font-weight: 600; color: #4a5568; margin-bottom: 3px;">Temple (mm)</label>
                            <input type="number" id="templeLength" value="140" step="5" style="width: 100%; padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        </div>
                    </div>
                </div>

                <!-- SECTION E: Lens Technology (CRITICAL) -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 2px solid #fbbf24; grid-column: span 2;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #fbbf24; display: flex; align-items: center;">
                        <span style="background: #fbbf24; color: #1a202c; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">‚≠ê</span>
                        Lens Technology (üî• CRITICAL FOR CONVERSION)
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Lens Color</label>
                            <select id="lensColor" multiple size="4" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="grey">Grey (True color)</option>
                                <option value="brown">Brown (Contrast)</option>
                                <option value="green">Green (Eye strain)</option>
                                <option value="blue-mirror">Blue Mirror (Fashion)</option>
                                <option value="silver-mirror">Silver Mirror (Sport)</option>
                                <option value="gradient">Gradient (Style)</option>
                                <option value="yellow">Yellow (Low light)</option>
                                <option value="clear">Clear (Blue cut)</option>
                            </select>
                            <p style="font-size: 10px; color: #718096; margin-top: 3px;">Ctrl+click to select multiple</p>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Lens Material</label>
                            <select id="lensMaterial" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="polycarbonate">Polycarbonate (Impact resistant) ‚úÖ Best</option>
                                <option value="cr39">CR-39 (Standard plastic)</option>
                                <option value="glass">Glass (Optical clarity)</option>
                                <option value="trivex">Trivex (Lightweight)</option>
                                <option value="nylon">Nylon (Sport)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Lens Category (Tint)</label>
                            <select id="lensCategory" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="0">Cat 0 (Clear - 0% tint)</option>
                                <option value="1">Cat 1 (Light - 20% tint)</option>
                                <option value="2">Cat 2 (Medium - 60% tint)</option>
                                <option value="3" selected>Cat 3 (Dark - 85% tint) ‚úÖ Sunglass standard</option>
                                <option value="4">Cat 4 (Very dark - 98% tint) ‚ö†Ô∏è Not for driving</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Lens Features (Check all that apply)</label>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; background: white; padding: 15px; border-radius: 8px;">
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="uv400" checked disabled style="margin-right: 6px;"> ‚ö†Ô∏è UV400 Protection (MANDATORY)</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="polarized" style="margin-right: 6px;"> üî• Polarized (Anti-glare)</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="blueLight" style="margin-right: 6px;"> Blue Light Filter</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="photochromic" style="margin-right: 6px;"> Photochromic (Auto-darkening)</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="mirrored" style="margin-right: 6px;"> Mirrored Coating</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="antiReflective" style="margin-right: 6px;"> Anti-Reflective (AR)</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="scratchResistant" style="margin-right: 6px;"> Scratch Resistant</label>
                            <label style="display: flex; align-items: center; font-size: 13px;"><input type="checkbox" id="hydrophobic" style="margin-right: 6px;"> Hydrophobic (Water repellant)</label>
                        </div>
                    </div>
                </div>

                <!-- SECTION F: Weight & Comfort -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #fc8181; display: flex; align-items: center;">
                        <span style="background: #fc8181; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">5</span>
                        Weight & Comfort
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Weight Group</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <label style="display: flex; align-items: center;"><input type="radio" name="weightGroup" value="ultra-light" style="margin-right: 8px;"> Ultra Lightweight (<20g) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</label>
                            <label style="display: flex; align-items: center;"><input type="radio" name="weightGroup" value="light" checked style="margin-right: 8px;"> Lightweight (20-30g) ‚≠ê‚≠ê‚≠ê‚≠ê</label>
                            <label style="display: flex; align-items: center;"><input type="radio" name="weightGroup" value="standard" style="margin-right: 8px;"> Standard (31-40g) ‚≠ê‚≠ê‚≠ê</label>
                            <label style="display: flex; align-items: center;"><input type="radio" name="weightGroup" value="heavy" style="margin-right: 8px;"> Heavy (41g+) ‚≠ê (Fatigue risk)</label>
                        </div>
                    </div>
                    
                    <div>
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Actual Weight (grams)</label>
                        <input type="number" id="actualWeight" value="25" step="0.1" style="width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                </div>

                <!-- SECTION G: Prescription -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #b794f4; display: flex; align-items: center;">
                        <span style="background: #b794f4; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">6</span>
                        Prescription & Optical
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Prescription Type</label>
                        <select id="prescriptionType" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <option value="plano">Non-Prescription (Plano)</option>
                            <option value="rx-ready">Prescription Ready (Rx-able)</option>
                            <option value="reader">Reader (Magnification)</option>
                            <option value="progressive">Progressive Ready</option>
                        </select>
                    </div>
                    
                    <div id="rxRange" style="display: none;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Supported Powers (SPH)</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" placeholder="Min: -8.00" style="flex:1; padding: 8px; border: 1px solid #e2e8f0; border-radius: 6px;">
                            <input type="text" placeholder="Max: +6.00" style="flex:1; padding: 8px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        </div>
                    </div>
                </div>

                <!-- SECTION H: Brand & Collection with OTHER option -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #f687b3; display: flex; align-items: center;">
                        <span style="background: #f687b3; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">7</span>
                        Brand & Collection
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Brand <span style="color: #e53e3e;">*</span></label>
                        <select id="brand" onchange="toggleBrandOther()" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <option value="">Select Brand</option>
                            <option value="rayban">Ray-Ban</option>
                            <option value="oakley">Oakley</option>
                            <option value="fastrack">Fastrack</option>
                            <option value="vincent-chase">Vincent Chase</option>
                            <option value="tom-ford">Tom Ford</option>
                            <option value="gucci">Gucci</option>
                            <option value="prada">Prada</option>
                            <option value="other">OTHER (Enter manually)</option>
                        </select>
                    </div>
                    
                    <!-- Other Brand Text Field -->
                    <div id="otherBrandDiv" style="margin-bottom: 12px; display: none;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Enter Brand Name <span style="color: #e53e3e;">*</span></label>
                        <input type="text" id="otherBrand" placeholder="Type brand name here..." style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Collection</label>
                        <input type="text" id="collection" placeholder="e.g., Classics, Sport, Luxury" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                    
                    <div>
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Sub Collection</label>
                        <input type="text" id="subCollection" placeholder="e.g., Aviator Classic" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                </div>

                <!-- SECTION I: Material -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #4fd1c5; display: flex; align-items: center;">
                        <span style="background: #4fd1c5; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">8</span>
                        Material
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="acetate"> Acetate (Premium)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="stainless-steel"> Stainless Steel</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="titanium"> Titanium (Ultra light)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="tr90"> TR90 (Flexible)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="aluminum"> Aluminum</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="monel"> Monel (Budget)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="wood"> Wood/Bamboo (Eco)</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="material" value="carbon"> Carbon Fiber</label>
                    </div>
                </div>

                <!-- SECTION J: Pricing with INR Currency -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #fbbf24; display: flex; align-items: center;">
                        <span style="background: #fbbf24; color: #1a202c; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">üí∞</span>
                        Pricing (‚Çπ INR)
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">MRP (‚Çπ) <span style="color: #e53e3e;">* (must be > 0)</span></label>
                        <input type="number" id="mrp" value="4999" min="1" step="1" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Selling Price (‚Çπ) <span style="color: #e53e3e;">* (must be > 0)</span></label>
                        <input type="number" id="sellingPrice" value="3999" min="1" step="1" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                    
                    <div style="background: #f0f9ff; padding: 10px; border-radius: 6px; font-size: 13px; display: flex; justify-content: space-between;">
                        <span>Discount:</span>
                        <span id="discountDisplay" style="font-weight: bold; color: #2b6cb0;">20% off</span>
                    </div>
                    <div style="font-size: 11px; color: #718096; margin-top: 5px;">Price must be greater than 0</div>
                </div>

                <!-- SECTION K: Gender & Origin with KIDS options -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 1px solid #e0e4f0;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #a0aec0; display: flex; align-items: center;">
                        <span style="background: #a0aec0; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">9</span>
                        Targeting & Origin
                    </h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Gender (with KIDS option)</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                            <label><input type="radio" name="gender" value="men"> Men</label>
                            <label><input type="radio" name="gender" value="women"> Women</label>
                            <label><input type="radio" name="gender" value="unisex"> Unisex</label>
                            <label><input type="radio" name="gender" value="boys"> üë¶ Boys</label>
                            <label><input type="radio" name="gender" value="girls"> üëß Girls</label>
                            <label><input type="radio" name="gender" value="kids" checked> üßí Kids (Unisex)</label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Country of Origin</label>
                        <select id="origin" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <option value="italy">Italy üáÆüáπ (Premium)</option>
                            <option value="japan">Japan üáØüáµ (High quality)</option>
                            <option value="usa">USA üá∫üá∏</option>
                            <option value="china">China üá®üá≥ (Value)</option>
                            <option value="india" selected>India üáÆüá≥</option>
                            <option value="germany">Germany üá©üá™</option>
                        </select>
                    </div>
                    
                    <div>
                        <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Product Type</label>
                        <input type="text" value="Sunglasses" readonly style="width: 100%; padding: 10px; background: #edf2f7; border: 1px solid #e2e8f0; border-radius: 8px;">
                    </div>
                </div>

                <!-- NEW SECTION L: Images (REQUIRED) -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 2px solid #ff6b6b; grid-column: span 2;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #ff6b6b; display: flex; align-items: center;">
                        <span style="background: #ff6b6b; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">üì∏</span>
                        Product Images <span style="color: #e53e3e; margin-left: 10px;">* ALL REQUIRED</span>
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Main Image <span style="color: #e53e3e;">*</span></label>
                            <input type="file" id="mainImage" accept="image/*" onchange="validateImage(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <div style="font-size: 11px; color: #718096; margin-top: 3px;">2000x2000px recommended</div>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Front View <span style="color: #e53e3e;">*</span></label>
                            <input type="file" id="frontImage" accept="image/*" onchange="validateImage(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Side View <span style="color: #e53e3e;">*</span></label>
                            <input type="file" id="sideImage" accept="image/*" onchange="validateImage(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Model Wearing <span style="color: #e53e3e;">*</span></label>
                            <input type="file" id="modelImage" accept="image/*" onchange="validateImage(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">Lens Closeup <span style="color: #e53e3e;">*</span></label>
                            <input type="file" id="lensCloseupImage" accept="image/*" onchange="validateImage(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 5px;">360¬∞ Images (Optional)</label>
                            <input type="file" id="360Images" accept="image/*" multiple onchange="handle360Images(this)" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            <div style="font-size: 11px; color: #718096; margin-top: 3px;">Select multiple images for 360¬∞ view</div>
                        </div>
                    </div>
                    
                    <!-- Image validation status -->
                    <div id="imageStatus" style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <span id="mainImageStatus" style="background: #fed7d7; padding: 4px 10px; border-radius: 12px; font-size: 11px;">‚ùå Main Image Required</span>
                        <span id="frontImageStatus" style="background: #fed7d7; padding: 4px 10px; border-radius: 12px; font-size: 11px;">‚ùå Front View Required</span>
                        <span id="sideImageStatus" style="background: #fed7d7; padding: 4px 10px; border-radius: 12px; font-size: 11px;">‚ùå Side View Required</span>
                        <span id="modelImageStatus" style="background: #fed7d7; padding: 4px 10px; border-radius: 12px; font-size: 11px;">‚ùå Model Image Required</span>
                        <span id="lensImageStatus" style="background: #fed7d7; padding: 4px 10px; border-radius: 12px; font-size: 11px;">‚ùå Lens Closeup Required</span>
                    </div>
                </div>

                <!-- NEW SECTION M: Warranty & Return Policy -->
                <div style="background: #fafbff; padding: 20px; border-radius: 12px; border: 2px solid #4fd1c5; grid-column: span 2;">
                    <h3 style="color: #4a5568; font-size: 16px; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #4fd1c5; display: flex; align-items: center;">
                        <span style="background: #4fd1c5; color: white; width: 24px; height: 24px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 12px; margin-right: 10px;">üõ°Ô∏è</span>
                        Warranty & Return Policy
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Warranty Period</label>
                            <select id="warranty" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="0">No Warranty</option>
                                <option value="6" selected>6 Months</option>
                                <option value="12">1 Year</option>
                                <option value="24">2 Years</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Return Policy</label>
                            <select id="returnPolicy" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="0">No Returns</option>
                                <option value="7">7 Days Return</option>
                                <option value="10" selected>10 Days Return</option>
                                <option value="15">15 Days Return</option>
                                <option value="30">30 Days Return</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #4a5568; margin-bottom: 8px;">Replacement</label>
                            <select id="replacement" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <option value="no">No Replacement</option>
                                <option value="7" selected>7 Days Replacement</option>
                                <option value="10">10 Days Replacement</option>
                                <option value="15">15 Days Replacement</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; background: #e6fffa; padding: 10px; border-radius: 6px;">
                        <label style="display: flex; align-items: center;">
                            <input type="checkbox" id="warrantyCard" checked> 
                            <span style="margin-left: 8px; font-size: 13px;">Include Warranty Card</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: flex-end; border-top: 2px solid #e2e8f0; padding-top: 25px;">
                <button type="button" onclick="resetForm()" style="padding: 12px 30px; background: white; color: #4a5568; border: 2px solid #e2e8f0; border-radius: 10px; font-weight: 600; cursor: pointer; font-size: 14px;">‚Ü∫ Reset</button>
                
                <button type="button" onclick="previewData()" style="padding: 12px 30px; background: #4299e1; color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; font-size: 14px;">üëÅÔ∏è Preview</button>
                
                <button type="button" onclick="validateAndSubmit(event)" style="padding: 12px 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; font-size: 14px; box-shadow: 0 4px 6px rgba(102, 126, 234, 0.4);">
                    üöÄ Submit to API
                </button>
            </div>

            <!-- Preview Panel -->
            <div id="previewPanel" style="margin-top: 20px; background: #1a202c; color: #e2e8f0; padding: 20px; border-radius: 10px; display: none;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <h4 style="color: white;">üìã Data Preview</h4>
                    <button type="button" onclick="document.getElementById('previewPanel').style.display='none'" style="background: none; border: none; color: #a0aec0; cursor: pointer;">‚úï</button>
                </div>
                <pre id="previewContent" style="background: #2d3748; padding: 15px; border-radius: 8px; overflow: auto; font-size: 12px; max-height: 300px;"></pre>
            </div>

            <!-- API Response -->
            <div id="apiResponse" style="margin-top: 20px; padding: 15px; border-radius: 8px; display: none;"></div>
        </form>
    </div>

    <script>
        // Array to store custom colors
        let customColors = [];
        let imageFiles = {};

        // SKU Generator
        function generateNewSKU() {
            const year = new Date().getFullYear();
            const random = Math.floor(Math.random() * 9000) + 1000;
            document.getElementById('sku').value = `SUN-${year}-${random}`;
        }

        // Generate initial SKU on load
        window.onload = function() {
            generateNewSKU();
            updateDiscount();
            toggleBrandOther();
        };

        // Function to add custom color
        function addCustomColor() {
            const colorPicker = document.getElementById('customColorPicker');
            const colorText = document.getElementById('customColorText');
            
            if (colorText.value.trim() !== '') {
                const colorValue = colorText.value.trim();
                customColors.push(colorValue);
                
                // Display the custom color
                const customColorsList = document.getElementById('customColorsList');
                const colorTag = document.createElement('span');
                colorTag.style.cssText = 'background: #e6f7ff; border: 1px solid #91d5ff; padding: 4px 10px; border-radius: 16px; font-size: 12px; display: inline-flex; align-items: center;';
                colorTag.innerHTML = `${colorValue} <span style="margin-left: 8px; cursor: pointer; color: #ff4d4f;" onclick="this.parentElement.remove(); customColors = customColors.filter(c => c !== '${colorValue}')">‚úï</span>`;
                customColorsList.appendChild(colorTag);
                
                // Clear input
                colorText.value = '';
            } else if (colorPicker.value) {
                // Convert hex to name approximation
                const hexColor = colorPicker.value;
                customColors.push(hexColor);
                
                const customColorsList = document.getElementById('customColorsList');
                const colorTag = document.createElement('span');
                colorTag.style.cssText = `background: ${hexColor}; border: 1px solid #91d5ff; padding: 4px 10px; border-radius: 16px; font-size: 12px; display: inline-flex; align-items: center; color: ${getContrastColor(hexColor)};`;
                colorTag.innerHTML = `${hexColor} <span style="margin-left: 8px; cursor: pointer; color: #ff4d4f;" onclick="this.parentElement.remove(); customColors = customColors.filter(c => c !== '${hexColor}')">‚úï</span>`;
                customColorsList.appendChild(colorTag);
            }
        }

        // Helper function for text color contrast
        function getContrastColor(hexcolor) {
            hexcolor = hexcolor.replace('#', '');
            const r = parseInt(hexcolor.substr(0,2),16);
            const g = parseInt(hexcolor.substr(2,2),16);
            const b = parseInt(hexcolor.substr(4,2),16);
            const yiq = ((r*299)+(g*587)+(b*114))/1000;
            return (yiq >= 128) ? '#000000' : '#ffffff';
        }

        // Toggle brand other field
        function toggleBrandOther() {
            const brandSelect = document.getElementById('brand');
            const otherDiv = document.getElementById('otherBrandDiv');
            
            if (brandSelect.value === 'other') {
                otherDiv.style.display = 'block';
            } else {
                otherDiv.style.display = 'none';
            }
        }

        // Image validation
        function validateImage(input) {
            const statusId = input.id + 'Status';
            const statusElement = document.getElementById(statusId);
            
            if (input.files && input.files[0]) {
                imageFiles[input.id] = input.files[0];
                if (statusElement) {
                    statusElement.style.background = '#c6f6d5';
                    statusElement.innerHTML = '‚úÖ ' + input.id.replace('Image', '') + ' Uploaded';
                }
            } else {
                delete imageFiles[input.id];
                if (statusElement) {
                    statusElement.style.background = '#fed7d7';
                    statusElement.innerHTML = '‚ùå ' + input.id.replace('Image', '') + ' Required';
                }
            }
        }

        function handle360Images(input) {
            if (input.files) {
                imageFiles['360Images'] = Array.from(input.files);
            }
        }

        // Validation function
        function validateForm() {
            let errors = [];
            
            // Required fields
            if (!document.getElementById('title').value.trim()) {
                errors.push('Product Title is required');
            }
            
            if (!document.getElementById('stock').value || parseInt(document.getElementById('stock').value) <= 0) {
                errors.push('Stock quantity must be greater than 0');
            }
            
            // Brand validation
            const brandSelect = document.getElementById('brand');
            if (!brandSelect.value) {
                errors.push('Brand is required');
            } else if (brandSelect.value === 'other' && !document.getElementById('otherBrand').value.trim()) {
                errors.push('Please enter brand name or select a brand');
            }
            
            // Price validation (>0)
            const mrp = parseFloat(document.getElementById('mrp').value);
            const selling = parseFloat(document.getElementById('sellingPrice').value);
            
            if (!mrp || mrp <= 0) {
                errors.push('MRP must be greater than 0');
            }
            
            if (!selling || selling <= 0) {
                errors.push('Selling Price must be greater than 0');
            }
            
            if (selling > mrp) {
                errors.push('Selling Price cannot be greater than MRP');
            }
            
            // Image validation (required)
            const requiredImages = ['mainImage', 'frontImage', 'sideImage', 'modelImage', 'lensCloseupImage'];
            requiredImages.forEach(imgId => {
                if (!imageFiles[imgId]) {
                    errors.push(`${imgId.replace('Image', '')} image is required`);
                }
            });
            
            return errors;
        }

        // Form data collection
        function collectFormData() {
            // Get age group
            let ageGroup = '';
            document.getElementsByName('ageGroup').forEach(radio => {
                if (radio.checked) ageGroup = radio.value;
            });

            // Get multi colors
            let multiColors = [];
            document.getElementsByName('multiColor').forEach(checkbox => {
                if (checkbox.checked) multiColors.push(checkbox.value);
            });
            
            // Add custom colors
            multiColors = [...multiColors, ...customColors];

            // Get lens features
            let lensFeatures = {
                uv400: document.getElementById('uv400') ? document.getElementById('uv400').checked : false,
                polarized: document.getElementById('polarized') ? document.getElementById('polarized').checked : false,
                blueLight: document.getElementById('blueLight') ? document.getElementById('blueLight').checked : false,
                photochromic: document.getElementById('photochromic') ? document.getElementById('photochromic').checked : false,
                mirrored: document.getElementById('mirrored') ? document.getElementById('mirrored').checked : false,
                antiReflective: document.getElementById('antiReflective') ? document.getElementById('antiReflective').checked : false,
                scratchResistant: document.getElementById('scratchResistant') ? document.getElementById('scratchResistant').checked : false,
                hydrophobic: document.getElementById('hydrophobic') ? document.getElementById('hydrophobic').checked : false
            };

            // Get weight group
            let weightGroup = '';
            document.getElementsByName('weightGroup').forEach(radio => {
                if (radio.checked) weightGroup = radio.value;
            });

            // Get materials
            let materials = [];
            document.getElementsByName('material').forEach(checkbox => {
                if (checkbox.checked) materials.push(checkbox.value);
            });

            // Get gender
            let gender = '';
            document.getElementsByName('gender').forEach(radio => {
                if (radio.checked) gender = radio.value;
            });

            // Calculate discount
            let mrp = parseFloat(document.getElementById('mrp').value) || 0;
            let selling = parseFloat(document.getElementById('sellingPrice').value) || 0;
            let discount = mrp > 0 ? ((mrp - selling) / mrp * 100).toFixed(1) : 0;

            // Get selected lens colors
            let lensColorSelect = document.getElementById('lensColor');
            let selectedLensColors = [];
            if (lensColorSelect) {
                for (let i = 0; i < lensColorSelect.selectedOptions.length; i++) {
                    selectedLensColors.push(lensColorSelect.selectedOptions[i].value);
                }
            }

            // Get brand (check if other)
            let brandValue = document.getElementById('brand').value;
            if (brandValue === 'other') {
                brandValue = document.getElementById('otherBrand').value || 'Other Brand';
            }

            // Get image filenames (just for preview - actual upload would be FormData)
            let imageList = {};
            Object.keys(imageFiles).forEach(key => {
                if (key === '360Images') {
                    imageList[key] = imageFiles[key].map(f => f.name);
                } else {
                    imageList[key] = imageFiles[key] ? imageFiles[key].name : null;
                }
            });

            return {
                sku: document.getElementById('sku').value,
                title: document.getElementById('title').value,
                shortDescription: document.getElementById('shortDesc').value,
                ageGroup: ageGroup,
                stock: parseInt(document.getElementById('stock').value) || 0,
                frameType: document.getElementById('frameType').value,
                frameShape: document.getElementById('frameShape').value,
                frameShapeSecondary: document.getElementById('frameShapeSecondary').value,
                multiColors: multiColors,
                frameColor: {
                    primary: document.getElementById('frameColorText').value || document.getElementById('frameColor').value,
                    primaryHex: document.getElementById('frameColor').value,
                    secondary: document.getElementById('frameColorText2').value || document.getElementById('frameColor2').value,
                    secondaryHex: document.getElementById('frameColor2').value
                },
                frameSize: document.getElementById('frameSize').value,
                dimensions: {
                    frameWidth: parseInt(document.getElementById('frameWidth').value) || 0,
                    lensWidth: parseInt(document.getElementById('lensWidth').value) || 0,
                    bridge: parseInt(document.getElementById('bridgeWidth').value) || 0,
                    temple: parseInt(document.getElementById('templeLength').value) || 0
                },
                lens: {
                    colors: selectedLensColors,
                    material: document.getElementById('lensMaterial').value,
                    category: document.getElementById('lensCategory').value,
                    features: lensFeatures
                },
                weight: {
                    group: weightGroup,
                    actual: parseFloat(document.getElementById('actualWeight').value) || 0
                },
                prescription: {
                    type: document.getElementById('prescriptionType').value
                },
                brand: brandValue,
                collection: document.getElementById('collection').value,
                subCollection: document.getElementById('subCollection').value,
                materials: materials,
                pricing: {
                    mrp: mrp,
                    sellingPrice: selling,
                    discount: discount + '%',
                    currency: 'INR'
                },
                gender: gender,
                origin: document.getElementById('origin').value,
                productType: 'Sunglasses',
                images: imageList,
                warranty: {
                    period: document.getElementById('warranty').value,
                    returnPolicy: document.getElementById('returnPolicy').value,
                    replacement: document.getElementById('replacement').value,
                    includeCard: document.getElementById('warrantyCard').checked
                },
                timestamp: new Date().toISOString()
            };
        }

        // Preview function
        function previewData() {
            const data = collectFormData();
            document.getElementById('previewContent').innerHTML = JSON.stringify(data, null, 2);
            document.getElementById('previewPanel').style.display = 'block';
            
            // Update discount display       
            if (data.pricing.mrp && data.pricing.sellingPrice) {
                document.getElementById('discountDisplay').innerText = data.pricing.discount;
            }
        }

        // Validate and submit
        async function validateAndSubmit(event) {
            // Validate      
            const errors = validateForm();                                          
            
            if (errors.length > 0) {
                // Show validation summary
                const validationDiv = document.getElementById('validationSummary');
                const validationList = document.getElementById('validationList');
                
                validationList.innerHTML = '';
                errors.forEach(error => {
                    const li = document.createElement('li');
                    li.textContent = error;
                    validationList.appendChild(li);
                });
                
                validationDiv.style.display = 'block';
                
                // Scroll to validation summary
                validationDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                
                return;
            }
            
            // Hide validation summary if no errors
            document.getElementById('validationSummary').style.display = 'none';
            
            // Proceed with submission
            await submitForm(event);
        }

        // Submit to API (Node.js/MySQL backend)
        async function submitForm(event) {
            const data = collectFormData();
            
            // Show loading state
            const submitBtn = event.target;
            const originalText = submitBtn.innerText;
            submitBtn.innerText = '‚è≥ Submitting...';
            submitBtn.disabled = true;

            try {
                // Create FormData for image upload
                const formData = new FormData();
                
                // Append all form data as JSON
                formData.append('productData', JSON.stringify(data));
                
                // Append images
                Object.keys(imageFiles).forEach(key => {
                    if (key === '360Images' && Array.isArray(imageFiles[key])) {
                        imageFiles[key].forEach((file, index) => {
                            formData.append(`360Image_${index}`, file);
                        });
                    } else if (imageFiles[key]) {
                        formData.append(key, imageFiles[key]);
                    }
                });

                // API endpoint for Node.js backend
                const API_URL = 'http://localhost:3000/api/products/sunglasses'; // Update with your Node.js server URL
                
                // API call with FormData
                const response = await fetch(API_URL, {
                    method: 'POST',
                    body: formData
                    // Don't set Content-Type header - browser will set it with boundary for FormData
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                // Show success message
                showResponse('‚úÖ Product uploaded successfully to database!', 'success');
                console.log('API Response:', result);
                
                // Auto-hide after 5 seconds
                setTimeout(() => {
                    document.getElementById('apiResponse').style.display = 'none';
                }, 5000);

            } catch (error) {
                console.error('API Error:', error);
                
                // For demo purposes - simulate success
                showResponse('‚ö†Ô∏è Demo Mode: Data would be sent to Node.js backend. Check console for data.', 'warning');
                console.log('Product Data for MySQL:', data);
                console.log('Images to upload:', imageFiles);
            } finally {
                // Reset button
                submitBtn.innerText = originalText;
                submitBtn.disabled = false;
            }
        }

        // Show response message
        function showResponse(message, type) {
            const responseDiv = document.getElementById('apiResponse');
            responseDiv.style.display = 'block';
            responseDiv.innerHTML = message;
            
            // Style based on type
            if (type === 'success') {
                responseDiv.style.background = '#c6f6d5';
                responseDiv.style.color = '#22543d';
                responseDiv.style.border = '1px solid #9ae6b4';
            } else if (type === 'error') {
                responseDiv.style.background = '#fed7d7';
                responseDiv.style.color = '#742a2a';
                responseDiv.style.border = '1px solid #fc8181';
            } else {
                responseDiv.style.background = '#feebc8';
                responseDiv.style.color = '#7b341e';
                responseDiv.style.border = '1px solid #fbd38d';
            }
        }

        // Reset form
        function resetForm() {
            if (confirm('Reset all form fields?')) {
                document.getElementById('sunglassForm').reset();
                document.getElementById('previewPanel').style.display = 'none';
                document.getElementById('apiResponse').style.display = 'none';
                document.getElementById('validationSummary').style.display = 'none';
                generateNewSKU();
                document.getElementById('otherBrandDiv').style.display = 'none';
                document.getElementById('customColorsList').innerHTML = '';
                customColors = [];
                imageFiles = {};
                
                // Reset image status indicators
                const statusElements = ['mainImageStatus', 'frontImageStatus', 'sideImageStatus', 'modelImageStatus', 'lensImageStatus'];
                statusElements.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.style.background = '#fed7d7';
                        el.innerHTML = '‚ùå ' + id.replace('Status', '').replace('Image', '') + ' Required';
                    }
                });
            }
        }

        // Auto-calculate discount
        document.getElementById('mrp').addEventListener('input', updateDiscount);
        document.getElementById('sellingPrice').addEventListener('input', updateDiscount);
        
        function updateDiscount() {
            const mrp = parseFloat(document.getElementById('mrp').value) || 0;
            const selling = parseFloat(document.getElementById('sellingPrice').value) || 0;
            if (mrp > 0 && selling > 0) {
                const discount = ((mrp - selling) / mrp * 100).toFixed(1);
                document.getElementById('discountDisplay').innerText = discount + '% off';
            }
        }

        // Show/hide prescription range based on selection
        document.getElementById('prescriptionType').addEventListener('change', function() {
            const rxRange = document.getElementById('rxRange');
            rxRange.style.display = (this.value === 'rx-ready' || this.value === 'progressive') ? 'block' : 'none';
        });

        // Character counter for short description
        document.getElementById('shortDesc').addEventListener('input', function() {
            const counter = this.nextElementSibling;
            if (counter) {
                counter.innerText = this.value.length + '/160';
            }
        });
    </script>

   


</body>
</html>